{{ define "main" }}
<style>
  .books-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
    gap: 1.5rem;
    margin-top: 1.5rem;
  }
  .books-grid .book-item {
    text-align: center;
  }
  .books-grid .book-item img {
    width: 100%;
    aspect-ratio: 2/3;
    object-fit: cover;
    border-radius: 4px;
    border: 1px solid var(--text-color);
  }
  .books-grid .book-item .book-title {
    margin-top: 0.5rem;
    font-size: 0.9em;
    color: var(--heading-color);
  }
</style>
<h1 class="essay-title">{{ .Title }}</h1>
{{ with .Content }}
<div class="books-intro">{{ . }}</div>
{{ end }}
<div class="books-grid">
  {{ range .Params.books }}
  <div class="book-item">
    {{ if .image }}
    <img src="{{ .image }}" alt="{{ .title }}" loading="lazy" />
    {{ else }}
    <img src="https://placehold.co/140x210/2B4162/DFF8EB?text=Cover" alt="{{ .title }}" loading="lazy" />
    {{ end }}
    <p class="book-title">{{ .title }}</p>
  </div>
  {{ else }}
  <p>Add books in the frontmatter of this page (see <code>content/favorite-books.md</code>).</p>
  {{ end }}
</div>
{{ end }}
